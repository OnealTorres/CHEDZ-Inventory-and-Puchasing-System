CREATE TABLE EMPLOYEE(
EMP_ID INTEGER NOT NULL,
EMP_FNAME VARCHAR(20) NOT NULL,
EMP_MNAME VARCHAR(20) NOT NULL,
EMP_LNAME VARCHAR(20) NOT NULL,
EMP_EMAIL VARCHAR(50) NOT NULL,
EMP_PASSWORD VARCHAR(50) NOT NULL,
EMP_STATUS VARCHAR(50) DEFAULT 'Active',
EMP_TYPE VARCHAR(50) DEFAULT 'EMP',
PRIMARY KEY(EMP_ID),
DATE_CREATED DATE DEFAULT CURRENT_TIMESTAMP,
DATE_UPDATED DATE DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE REQUEST(
RQ_ID INTEGER NOT NULL,
RQ_TYPE VARCHAR(20) NOT NULL,
RQ_DESC VARCHAR(150) NOT NULL,
RQ_STATUS VARCHAR(20) DEFAULT 'Pending',
RQ_APPROVED_BY INT,
AC_ID INT ,
EMP_ID INTEGER NOT NULL,
DATE_CREATED DATE DEFAULT CURRENT_TIMESTAMP,
DATE_UPDATED DATE DEFAULT CURRENT_TIMESTAMP,
IS_RELEASED BOOLEAN DEFAULT false
PRIMARY KEY (RQ_ID),
FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE ON UPDATE CASCADE
);

CREATE TABLE REQ_JOB(
RJ_ID INTEGER NOT NULL,
RQ_ID INTEGER NOT NULL,
DATE_CREATED DATE DEFAULT CURRENT_TIMESTAMP,
DATE_UPDATED DATE DEFAULT CURRENT_TIMESTAMP,
PRIMARY KEY (RJ_ID),
FOREIGN KEY (RQ_ID) REFERENCES REQUEST ON UPDATE CASCADE
);

CREATE TABLE PURCHASING_ORDER(
PO_ID INT PRIMARY KEY,
RQ_ID INT NOT NULL,
PO_STATUS VARCHAR(50) DEFAULT 'Pending',
PO_APPROVED_BY INT,
PO_QUOTATION BYTEA,
DATE_CREATED DATE DEFAULT CURRENT_TIMESTAMP,
DATE_UPDATED DATE DEFAULT CURRENT_TIMESTAMP,
VND_ID INT NOT NULL,
FOREIGN KEY (VND_ID) REFERENCES VENDOR ON UPDATE CASCADE,
FOREIGN KEY (RQ_ID) REFERENCES REQUEST ON UPDATE CASCADE
);

CREATE TABLE VENDOR(
VND_ID INT PRIMARY KEY,
VND_NAME VARCHAR(50) NOT NULL,
VND_CONTACT VARCHAR(20) NOT NULL,
VND_EMAIL VARCHAR(60) NOT NULL
);

CREATE TABLE DELIVERY(
DLR_ID INT PRIMARY KEY,
PO_ID INT NOT NULL,
DLR_STATUS VARCHAR(25) 'Pending',
DLR_RECEIPT BYTEA,
DLR_RECEIVING_MEMO BYTEA,
DATE_CREATED DATE DEFAULT CURRENT_TIMESTAMP,
DATE_UPDATED DATE DEFAULT CURRENT_TIMESTAMP,
FOREIGN KEY (PO_ID) REFERENCES PURCHASING_ORDER ON UPDATE CASCADE
);

CREATE TABLE ACKNOWLEDGEMENT(
AC_ID INT PRIMARY KEY,
AC_RECEIPT BYTEA NOT NULL,
DATE_CREATED DATE DEFAULT CURRENT_TIMESTAMP,
DATE_UPDATED DATE DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE UNIT(
UNIT_ID INT PRIMARY KEY,
UNIT_NAME VARCHAR(50) NOT NULL
);

CREATE TABLE ITEM(
ITEM_ID INT PRIMARY KEY,
ITEM_NAME VARCHAR(50) NOT NULL,
ITEM_TYPE VARCHAR(50) NOT NULL,
ITEM_REORDER_LVL INT DEFAULT 0,
UNIT_ID INT NOT NULL,
DATE_CREATED DATE DEFAULT CURRENT_TIMESTAMP,
DATE_UPDATED DATE DEFAULT CURRENT_TIMESTAMP,
FOREIGN KEY (UNIT_ID) REFERENCES UNIT ON UPDATE CASCADE
);

CREATE TABLE REQ_ITEM(
RI_ID INT PRIMARY KEY,
RQ_ID INT NOT NULL,
ITEM_ID INT NOT NULL,
RI_QUANTITY INT NOT NULL,
DATE_CREATED DATE DEFAULT CURRENT_TIMESTAMP,
DATE_UPDATED DATE DEFAULT CURRENT_TIMESTAMP,
FOREIGN KEY (RQ_ID) REFERENCES REQUEST ON UPDATE CASCADE,
FOREIGN KEY (ITEM_ID) REFERENCES ITEM ON UPDATE CASCADE,
FOREIGN KEY (AC_ID) REFERENCES ACKNOWLEDGEMENT ON UPDATE CASCADE
);

CREATE TABLE DELIVERED_ITEM(
DI_ID PRIMARY KEY,
DI_QUANTITY INT NOT NULL,
DI_DEDUCTED INT DEFAULT 0,
DI_EXPIRY DATE,
DATE_CREATED DATE DEFAULT CURRENT_TIMESTAMP,
DATE_UPDATED DATE DEFAULT CURRENT_TIMESTAMP,
DLR_ID INT NOT NULL,
ITEM_ID INT NOT NULL,
FOREIGN KEY (DLR_ID) REFERENCES DELIVERY ON UPDATE CASCADE,
FOREIGN KEY (ITEM_ID) REFERENCES ITEM ON UPDATE CASCADE
)